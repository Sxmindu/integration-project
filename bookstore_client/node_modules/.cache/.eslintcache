[{"/Users/samindu/Workspace/integration-project/bookstore_client/src/index.js":"1","/Users/samindu/Workspace/integration-project/bookstore_client/src/App.js":"2","/Users/samindu/Workspace/integration-project/bookstore_client/src/context/AuthProvider.js":"3","/Users/samindu/Workspace/integration-project/bookstore_client/src/components/Layout.js":"4","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/common/Login.js":"5","/Users/samindu/Workspace/integration-project/bookstore_client/src/hooks/useAuth.js":"6","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/index.js":"7","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomButton.js":"8","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomFooter.js":"9","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomInput.js":"10","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomNavbar.js":"11","/Users/samindu/Workspace/integration-project/bookstore_client/src/api/axios.js":"12","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/common/Home.js":"13","/Users/samindu/Workspace/integration-project/bookstore_client/src/components/RequireAuth.js":"14","/Users/samindu/Workspace/integration-project/bookstore_client/src/components/PersistLogin.js":"15","/Users/samindu/Workspace/integration-project/bookstore_client/src/hooks/useRefreshToken.js":"16","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/customer/purchase.js":"17","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/staff/orders.js":"18","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomFlash.js":"19","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomSelect.js":"20","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/staff/books.js":"21"},{"size":582,"mtime":1747165409882,"results":"22","hashOfConfig":"23"},{"size":1541,"mtime":1747598837460,"results":"24","hashOfConfig":"23"},{"size":361,"mtime":1687850990000,"results":"25","hashOfConfig":"23"},{"size":180,"mtime":1641997076000,"results":"26","hashOfConfig":"23"},{"size":6901,"mtime":1747590181666,"results":"27","hashOfConfig":"23"},{"size":174,"mtime":1641997076000,"results":"28","hashOfConfig":"23"},{"size":315,"mtime":1747594493367,"results":"29","hashOfConfig":"23"},{"size":2040,"mtime":1698468250000,"results":"30","hashOfConfig":"23"},{"size":857,"mtime":1747595203683,"results":"31","hashOfConfig":"23"},{"size":1597,"mtime":1698468250000,"results":"32","hashOfConfig":"23"},{"size":3882,"mtime":1747598695840,"results":"33","hashOfConfig":"23"},{"size":392,"mtime":1747455041402,"results":"34","hashOfConfig":"23"},{"size":8490,"mtime":1747605350506,"results":"35","hashOfConfig":"23"},{"size":546,"mtime":1747462935088,"results":"36","hashOfConfig":"23"},{"size":939,"mtime":1747462253932,"results":"37","hashOfConfig":"23"},{"size":1202,"mtime":1747461397977,"results":"38","hashOfConfig":"23"},{"size":8087,"mtime":1747599483580,"results":"39","hashOfConfig":"23"},{"size":10024,"mtime":1747599483578,"results":"40","hashOfConfig":"23"},{"size":978,"mtime":1698468250000,"results":"41","hashOfConfig":"23"},{"size":1267,"mtime":1747589803280,"results":"42","hashOfConfig":"23"},{"size":25429,"mtime":1747606480527,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},"1qo3ma5",{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"47"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/samindu/Workspace/integration-project/bookstore_client/src/index.js",[],[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/App.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/context/AuthProvider.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/components/Layout.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/common/Login.js",["109","110","111"],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/hooks/useAuth.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/index.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomButton.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomFooter.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomInput.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomNavbar.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/api/axios.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/common/Home.js",["112","113","114","115","116"],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/components/RequireAuth.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/components/PersistLogin.js",["117"],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/hooks/useRefreshToken.js",["118"],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/customer/purchase.js",["119","120"],[],"import React, {useEffect, useState} from \"react\";\r\nimport {Button, Footer, Input, Navbar, Alert, Select} from \"../webcomponent\";\r\nimport {\r\n    Card,\r\n    CardBody,\r\n    Typography,\r\n} from \"@material-tailwind/react\";\r\nimport axios, {axiosPrivate} from \"../../api/axios\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\n\r\nconst Purchases = () => {\r\n\r\n    const {auth} = useAuth();\r\n\r\n    const [books, setBooks] = useState('');\r\n    const [qty, setQty] = useState('');\r\n    const [book, setBook] = useState('');\r\n    const [order, setOrder] = useState('');\r\n    const [errorMsg, setErrorMsg] = useState({State: false, Type: \"\", Message: \"\"});\r\n\r\n    useEffect(() => {\r\n        if (errorMsg.State) {\r\n            const timer = setTimeout(() => {\r\n                setErrorMsg({ State: false, Type: \"\", Message: \"\" }); // Reset after 10s\r\n            }, 5000); // 10,000ms = 10 seconds\r\n\r\n            return () => clearTimeout(timer); // Cleanup if the component unmounts or error changes\r\n        }\r\n    }, [errorMsg]);\r\n\r\n    useEffect(() => {\r\n        console.log(order);\r\n        const getDetails = async () => {\r\n\r\n            try {\r\n                let response = await axios.get(`/books`,\r\n                    {\r\n                        headers: {'Content-Type': 'application/json'},\r\n                    }\r\n                );\r\n\r\n                const values = []\r\n                response.data?.Books.forEach((book) => {\r\n                    values.push({show: book.title, value: book.book_id});\r\n                })\r\n\r\n                setBooks(values);\r\n            } catch (error) {\r\n                if (error.response?.data.code === 404) {\r\n                    setBooks([])\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        getDetails().then();\r\n\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const addOrder = async () => {\r\n\r\n            try {\r\n                let response = await axios.post(`/orders`,\r\n                    JSON.stringify({\r\n                        book_id: book,\r\n                        user_email: auth?.email,\r\n                        quantity: parseInt(qty),\r\n                    }),\r\n                    {\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                            'Authorization': `Bearer ${auth?.access_token}`\r\n                        },\r\n                    }\r\n                );\r\n                setErrorMsg({State: true, Type: \"Success\", Message: 'Book ordered successfully'});\r\n                setBook('')\r\n                setQty('')\r\n                setOrder(response.data.data)\r\n            } catch (error) {\r\n                if (error.response?.data.code === 404 || error.response?.data.code === 409) {\r\n                    setErrorMsg({State: true, Type: \"Error\", Message: error.response.data.message});\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        addOrder().then();\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"flex flex-col justify-between items-center w-full overflow-hidden\">\r\n\r\n            <Navbar active=\"Purchase\"/>\r\n\r\n            <section className=\"flex flex-col md:flex-row  md:space-y-0 md:space-x-16 justify-items-center md:mx-0 m-20 lg:my-[5rem] h-[60vh] items-center\">\r\n                <div className=\"flex flex-row gap-12 my-130\">\r\n                    <form className=\"mt-2 mb-2 w-80 max-w-screen-lg sm:w-96\" onSubmit={handleSubmit}>\r\n                        <Alert Type={errorMsg.Type} Message={errorMsg.Message} State={errorMsg.State} />\r\n                        <div className=\"flex flex-col gap-[0.75rem] items-center\">\r\n                            <Select\r\n                                label=\"Book\"\r\n                                value={book}\r\n                                options={books}\r\n                                onChange={(event)=>\r\n                                    setBook(event)\r\n                                }\r\n                                required={true}\r\n                            />\r\n                            <Input\r\n                                type=\"text\"\r\n                                label=\"Email\"\r\n                                value={auth?.email}\r\n                                readOnly={true}\r\n                            />\r\n                            <Input\r\n                                type=\"number\"\r\n                                label=\"Quantity\"\r\n                                onChange={(e) => setQty(e.target.value)}\r\n                                value={qty}\r\n                                required\r\n                            />\r\n                            <Button\r\n                                type=\"submit\"\r\n                                label=\"Order\"\r\n                                className=\"w-full\"\r\n                            />\r\n                        </div>\r\n                    </form>\r\n                    {\r\n                        order ?\r\n                            <>\r\n                                <div className={\"border-r\"}/>\r\n                                <div>\r\n                                    <Card className=\"w-96 shadow-none border-2\">\r\n                                        <CardBody>\r\n                                            <Typography variant=\"h5\" color=\"black\" className=\"mb-2 font-bold\">\r\n                                                Last Order Details\r\n                                            </Typography>\r\n                                            <Typography variant=\"h6\" color=\"black\" className=\"mb-2 font-bold\">\r\n                                                Book Details\r\n                                            </Typography>\r\n                                            <Typography variant=\"small\" color=\"black\" className=\"border-l pl-4 mb-2 font-bold\">\r\n                                                {order.book_id}\r\n                                            </Typography>\r\n                                            <Typography variant=\"small\" color=\"blue-gray\" className=\"border-l pl-4  mb-2\">\r\n                                                {order.title}\r\n                                            </Typography>\r\n                                            <Typography variant=\"small\" color=\"blue-gray\" className=\"border-l pl-4  mb-2\">\r\n                                                Rs. {order.price}\r\n                                            </Typography>\r\n                                            <Typography variant=\"h6\" color=\"black\" className=\"mb-2 font-bold\">\r\n                                                Order Details\r\n                                            </Typography>\r\n                                            <Typography variant=\"small\" color=\"black\" className=\"border-l pl-4  mb-2 font-bold\">\r\n                                                {order.order_id}\r\n                                            </Typography>\r\n                                            <Typography variant=\"small\" color=\"blue-gray\" className=\"border-l pl-4  mb-2\">\r\n                                                Status : {order.payment_status.toUpperCase()}\r\n                                            </Typography>\r\n                                            <Typography variant=\"small\" color=\"blue-gray\" className=\"border-l pl-4  mb-2\">\r\n                                                Amount : Rs. {order.payment_amount}\r\n                                            </Typography>\r\n                                            <Typography variant=\"small\" color=\"blue-gray\" className=\"border-l pl-4  mb-2\">\r\n                                                Qty : {order.quantity}\r\n                                            </Typography>\r\n                                        </CardBody>\r\n                                    </Card>\r\n                                </div>\r\n                            </> :\r\n                            null\r\n                    }\r\n                </div>\r\n            </section>\r\n\r\n            <Footer/>\r\n\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Purchases","/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/staff/orders.js",["121","122","123","124","125","126"],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomFlash.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/webcomponent/CustomSelect.js",[],[],"/Users/samindu/Workspace/integration-project/bookstore_client/src/pages/staff/books.js",["127","128","129","130","131","132","133","134","135","136"],[],{"ruleId":"137","severity":1,"message":"138","line":27,"column":8,"nodeType":"139","endLine":27,"endColumn":10,"suggestions":"140"},{"ruleId":"141","severity":1,"message":"142","line":101,"column":16,"nodeType":"143","messageId":"144","endLine":101,"endColumn":21},{"ruleId":"141","severity":1,"message":"145","line":103,"column":28,"nodeType":"143","messageId":"144","endLine":103,"endColumn":41},{"ruleId":"141","severity":1,"message":"146","line":2,"column":9,"nodeType":"143","messageId":"144","endLine":2,"endColumn":14},{"ruleId":"141","severity":1,"message":"147","line":17,"column":18,"nodeType":"143","messageId":"144","endLine":17,"endColumn":25},{"ruleId":"141","severity":1,"message":"148","line":21,"column":19,"nodeType":"143","messageId":"144","endLine":21,"endColumn":27},{"ruleId":"137","severity":1,"message":"149","line":43,"column":8,"nodeType":"139","endLine":43,"endColumn":14,"suggestions":"150"},{"ruleId":"141","severity":1,"message":"151","line":45,"column":11,"nodeType":"143","messageId":"144","endLine":45,"endColumn":19},{"ruleId":"137","severity":1,"message":"152","line":26,"column":7,"nodeType":"139","endLine":26,"endColumn":9,"suggestions":"153"},{"ruleId":"141","severity":1,"message":"154","line":1,"column":8,"nodeType":"143","messageId":"144","endLine":1,"endColumn":13},{"ruleId":"141","severity":1,"message":"155","line":8,"column":16,"nodeType":"143","messageId":"144","endLine":8,"endColumn":28},{"ruleId":"137","severity":1,"message":"156","line":59,"column":8,"nodeType":"139","endLine":59,"endColumn":10,"suggestions":"157"},{"ruleId":"141","severity":1,"message":"158","line":9,"column":9,"nodeType":"143","messageId":"144","endLine":9,"endColumn":13},{"ruleId":"141","severity":1,"message":"159","line":9,"column":15,"nodeType":"143","messageId":"144","endLine":9,"endColumn":26},{"ruleId":"141","severity":1,"message":"155","line":10,"column":16,"nodeType":"143","messageId":"144","endLine":10,"endColumn":28},{"ruleId":"141","severity":1,"message":"148","line":21,"column":19,"nodeType":"143","messageId":"144","endLine":21,"endColumn":27},{"ruleId":"137","severity":1,"message":"160","line":33,"column":8,"nodeType":"139","endLine":33,"endColumn":18,"suggestions":"161"},{"ruleId":"137","severity":1,"message":"162","line":58,"column":8,"nodeType":"139","endLine":58,"endColumn":14,"suggestions":"163"},{"ruleId":"141","severity":1,"message":"164","line":2,"column":47,"nodeType":"143","messageId":"144","endLine":2,"endColumn":53},{"ruleId":"141","severity":1,"message":"158","line":9,"column":9,"nodeType":"143","messageId":"144","endLine":9,"endColumn":13},{"ruleId":"141","severity":1,"message":"155","line":10,"column":16,"nodeType":"143","messageId":"144","endLine":10,"endColumn":28},{"ruleId":"141","severity":1,"message":"165","line":14,"column":9,"nodeType":"143","messageId":"144","endLine":14,"endColumn":16},{"ruleId":"141","severity":1,"message":"166","line":15,"column":9,"nodeType":"143","messageId":"144","endLine":15,"endColumn":18},{"ruleId":"141","severity":1,"message":"151","line":21,"column":11,"nodeType":"143","messageId":"144","endLine":21,"endColumn":19},{"ruleId":"141","severity":1,"message":"148","line":26,"column":19,"nodeType":"143","messageId":"144","endLine":26,"endColumn":27},{"ruleId":"137","severity":1,"message":"160","line":46,"column":8,"nodeType":"139","endLine":46,"endColumn":18,"suggestions":"167"},{"ruleId":"137","severity":1,"message":"168","line":76,"column":8,"nodeType":"139","endLine":76,"endColumn":14,"suggestions":"169"},{"ruleId":"141","severity":1,"message":"170","line":159,"column":21,"nodeType":"143","messageId":"144","endLine":159,"endColumn":29},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getTokens' and 'location.search'. Either include them or remove the dependency array.","ArrayExpression",["171"],"no-unused-vars","'value' is assigned a value but never used.","Identifier","unusedVar","'setInputValue' is assigned a value but never used.","'Alert' is defined but never used.","'setAuth' is assigned a value but never used.","'setFetch' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'fetch'. Either include it or remove the dependency array.",["172"],"'navigate' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'auth?.access_token' and 'refresh'. Either include them or remove the dependency array.",["173"],"'axios' is defined but never used.","'axiosPrivate' is defined but never used.","React Hook useEffect has a missing dependency: 'order'. Either include it or remove the dependency array.",["174"],"'Link' is defined but never used.","'useNavigate' is defined but never used.","React Hook useEffect has a missing dependency: 'page'. Either include it or remove the dependency array. You can also do a functional update 'setPage(p => ...)' if you only need 'page' in the 'setPage' call.",["175"],"React Hook useEffect has missing dependencies: 'auth?.access_token' and 'fetch'. Either include them or remove the dependency array.",["176"],"'Select' is defined but never used.","'faCross' is defined but never used.","'setActive' is defined but never used.",["177"],"React Hook useEffect has missing dependencies: 'auth.role' and 'fetch'. Either include them or remove the dependency array.",["178"],"'response' is assigned a value but never used.",{"desc":"179","fix":"180"},{"desc":"181","fix":"182"},{"desc":"183","fix":"184"},{"desc":"185","fix":"186"},{"desc":"187","fix":"188"},{"desc":"189","fix":"190"},{"desc":"187","fix":"191"},{"desc":"192","fix":"193"},"Update the dependencies array to be: [getTokens, location.search]",{"range":"194","text":"195"},"Update the dependencies array to be: [fetch, page]",{"range":"196","text":"197"},"Update the dependencies array to be: [auth?.access_token, refresh]",{"range":"198","text":"199"},"Update the dependencies array to be: [order]",{"range":"200","text":"201"},"Update the dependencies array to be: [errorMsg, page]",{"range":"202","text":"203"},"Update the dependencies array to be: [auth?.access_token, fetch, page]",{"range":"204","text":"205"},{"range":"206","text":"203"},"Update the dependencies array to be: [auth.role, fetch, page]",{"range":"207","text":"208"},[870,872],"[getTokens, location.search]",[1198,1204],"[fetch, page]",[719,721],"[auth?.access_token, refresh]",[1769,1771],"[order]",[1121,1131],"[errorMsg, page]",[1833,1839],"[auth?.access_token, fetch, page]",[1704,1714],[2515,2521],"[auth.role, fetch, page]"]