{"ast":null,"code":"var _jsxFileName = \"/Users/samindu/Downloads/client/src/pages/admin/ViewComplains.js\",\n  _s = $RefreshSig$();\nimport { Header } from \"../webcomponent\";\nimport { Card, CardBody, CardFooter, Typography, Button } from \"@material-tailwind/react\";\nimport { Avatar } from \"@material-tailwind/react\";\nimport { Textarea } from \"@material-tailwind/react\";\nimport useAxiosMethods from \"../../hooks/useAxiosMethods\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useAuth from \"../../hooks/useAuth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewComplains() {\n  _s();\n  var _this = this;\n  const {\n    auth\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    complaintDesc: \"\",\n    showError: false\n  });\n  const {\n    get,\n    put\n  } = useAxiosMethods();\n  const [response, setResponse] = useState([]);\n  const [response1, setResponse1] = useState();\n  const [response2, setResponse2] = useState();\n  const [data, Data] = useState(\"\");\n  useEffect(() => {\n    get(\"auth/pending\", setResponse);\n  }, []);\n  useEffect(() => {}, [response1]);\n  const submitHandler1 = id => {\n    put(`auth/IgnoreComplain/${id}`, {}, setResponse1);\n    window.location.reload();\n  };\n  const Actiontaken = async id => {\n    if (!formData.complaintDesc) {\n      setFormData({\n        ...formData,\n        showError: true\n      });\n    } else {\n      const data = {\n        actionDescription: formData.complaintDesc,\n        adminId: auth.id,\n        complainId: id\n      };\n      console.log(data);\n      put(`/auth/ActionTaken/${id}`, data, setResponse2);\n      console.log(response2);\n    }\n\n    //console.log(response);\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Header, {\n      active: \"Complains\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: response.map(function (request) {\n          let key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request.complainId;\n          return /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mt-6 w-50\",\n            children: [/*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"flex items-start\",\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                variant: \"circular\",\n                alt: \"tania andrew\",\n                className: \"cursor-pointer border-2 border-main-purple hover:z-10 focus:z-10 ml-1\",\n                src: \"https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1480&q=80\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-4\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  color: \"blue-gray\",\n                  className: \"mb-2\",\n                  children: [request.userId.firstname, \" \", request.userId.lastname, \" - \", request.date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 33\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(CardBody, {\n              className: \"mt-[-2rem]\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: request.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full mt-2\",\n                children: /*#__PURE__*/_jsxDEV(Textarea, {\n                  label: \"Action taken\",\n                  color: \"purple\",\n                  onChange: event => setFormData({\n                    ...formData,\n                    complaintDesc: event.target.value,\n                    showError: false\n                  }),\n                  rows: 10\n                }, request.complainId, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(CardFooter, {\n              className: \"pt-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  color: \"green\",\n                  onClick: () => Actiontaken(request.complainId),\n                  children: \"Action taken\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  color: \"red\",\n                  className: \"ml-2\",\n                  type: \"submit\",\n                  onClick: () => submitHandler1(request.complainId),\n                  children: \"Ignore\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 37\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, _this)]\n          }, request.complainId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n_s(ViewComplains, \"ZD1TjlfDU+2qAqJpgriUJuOWUhM=\", false, function () {\n  return [useAuth, useAxiosMethods];\n});\n_c = ViewComplains;\nexport default ViewComplains;\nvar _c;\n$RefreshReg$(_c, \"ViewComplains\");","map":{"version":3,"names":["Header","Card","CardBody","CardFooter","Typography","Button","Avatar","Textarea","useAxiosMethods","React","useState","useEffect","Link","useAuth","jsxDEV","_jsxDEV","ViewComplains","_s","_this","auth","formData","setFormData","complaintDesc","showError","get","put","response","setResponse","response1","setResponse1","response2","setResponse2","data","Data","submitHandler1","id","window","location","reload","Actiontaken","actionDescription","adminId","complainId","console","log","children","active","className","map","request","key","arguments","length","undefined","variant","alt","src","fileName","_jsxFileName","lineNumber","columnNumber","color","userId","firstname","lastname","date","description","label","onChange","event","target","value","rows","onClick","type","_c","$RefreshReg$"],"sources":["/Users/samindu/Downloads/client/src/pages/admin/ViewComplains.js"],"sourcesContent":["import { Header } from \"../webcomponent\";\r\nimport {\r\n    Card,\r\n    CardBody,\r\n    CardFooter,\r\n    Typography,\r\n    Button,\r\n} from \"@material-tailwind/react\";\r\nimport { Avatar } from \"@material-tailwind/react\";\r\nimport { Textarea } from \"@material-tailwind/react\";\r\nimport useAxiosMethods from \"../../hooks/useAxiosMethods\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\n\r\n\r\nfunction ViewComplains (){\r\n\r\n  const {auth}=useAuth();\r\n\r\n    const [formData, setFormData] = useState({\r\n        \r\n        complaintDesc: \"\",\r\n        showError: false\r\n    }); \r\n\r\n    const { get,put} = useAxiosMethods();\r\n    const [response, setResponse] = useState([]);\r\n    const [response1, setResponse1] = useState();\r\n    const [response2, setResponse2] = useState();\r\n\r\n    const [data, Data] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        get(\"auth/pending\", setResponse);\r\n    }, []);\r\n\r\n    useEffect(()=>{},[response1])\r\n\r\n\r\n    const submitHandler1=(id)=>{\r\n        put(`auth/IgnoreComplain/${id}`, {}, setResponse1);\r\n        window.location.reload();\r\n    }\r\n\r\n     const Actiontaken = async (id) => {\r\n            if (!formData.complaintDesc) {\r\n                setFormData({ ...formData, showError: true }); \r\n            } else {\r\n                const data = {\r\n                \r\n                    actionDescription:formData.complaintDesc,\r\n                    adminId:auth.id,\r\n                    complainId:id\r\n\r\n                 }\r\n\r\n                 console.log(data);\r\n              put(`/auth/ActionTaken/${id}`, data, setResponse2);\r\n                 console.log(response2);\r\n             }\r\n            \r\n       \r\n        //console.log(response);\r\n        window.location.reload();\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header active=\"Complains\">\r\n                <div className=\"flex flex-col\">\r\n\r\n\r\n                    {response.map((request, key=request.complainId) => (\r\n                    \r\n                        <Card key={request.complainId}  className=\"mt-6 w-50\">\r\n                            \r\n                            <CardBody className=\"flex items-start\">\r\n                                <Avatar\r\n                                    variant=\"circular\"\r\n                                    alt=\"tania andrew\"\r\n                                    className=\"cursor-pointer border-2 border-main-purple hover:z-10 focus:z-10 ml-1\"\r\n                                    src=\"https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1480&q=80\"\r\n                                />\r\n                                <div className=\"ml-4\">\r\n                                <Typography variant=\"h5\" color=\"blue-gray\" className=\"mb-2\">\r\n                                    {request.userId.firstname} {request.userId.lastname} - {request.date}\r\n                                </Typography>\r\n                                </div>\r\n                            </CardBody>\r\n                            <CardBody className=\"mt-[-2rem]\">\r\n                                <Typography>\r\n                                    {request.description}\r\n                                </Typography>\r\n                                <div className=\"w-full mt-2\">\r\n                                    <Textarea label=\"Action taken\" color=\"purple\" key={request.complainId} \r\n                                    onChange={(event) =>\r\n                                        setFormData({ ...formData, complaintDesc: event.target.value, showError: false })       \r\n                                    }\r\n                                    rows={10}\r\n                                     />\r\n                                </div>\r\n                            </CardBody>\r\n                            <CardFooter className=\"pt-0\">\r\n                                <div className=\"flex justify-center\">\r\n                                    <Button variant=\"outlined\" color=\"green\" \r\n                                        onClick={() =>Actiontaken(request.complainId)}\r\n                                        >\r\n                                        Action taken\r\n                                    </Button>\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        color=\"red\"\r\n                                        className=\"ml-2\"\r\n                                        type=\"submit\"\r\n                                        onClick={() => submitHandler1(request.complainId)}\r\n                                        >\r\n                                        Ignore\r\n                                    </Button>\r\n\r\n                                </div>\r\n\r\n                            </CardFooter>\r\n                        </Card>\r\n                    ))}\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </Header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewComplains;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}